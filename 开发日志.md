

# 2月22日

- [x] 将术语矩阵改为完整的矩形 0222矩阵.xlsx
- [x] 随机生成症状打分文件
- [ ] 训练模型
  - [ ] 先得到一个模型model_50.pkl→还在训练中，一局大概需要5-10分钟
  - [ ] 然后考虑把规则优化后，再接着训练
    - [x] 能否让一个对局早点结束？→考虑黑、白每个在每一列落子一次，然后分数高的获胜
    - [x] →不合适，同一列可能有多个落子
    - [x] →具体到每一列，有的可以取多值，有的只能取单值，有的存在互斥的值，等等，会与具体的术语矩阵相对应，由于目前矩阵是测试用的，所以也无法添加更具体的规则
    - [x] 症状打分表足够科学，才可以训练出较好的模型
    - [ ] →目前症状打分表是随机生成的，导致训练出的模型参考价值不大

# 2月23日

- [ ] 想出的整体解决方案：在目前的算法上做增添。计算奖励和惩罚的思路不变，还是按照症状打分表来进行。在此基础上新增一个函数，对落子做进一步限制，从而加快每局对抗的速度。



- [ ] 症状打分表是由病例和手册得出的，如果能通过若干条正确病例和手册知识，得到科学准确的症状打分表，就免去了与多条病例逐个比对的步骤

- [ ] 任务1：双方中的一方如果落子是疾病，就触发规则，即把这一方的前面的所有落子与手册或者成功病例对比，一致或者全包含的，判为有效。如果与病例等不一致，就清除这些落子，双方都可以再落子。

  - [ ] ❓如果以诊断出疾病为最终目标，那么“疾病”之后的治疗技术方法、用药方式、预后，等等，如何处理

  - [ ] 👉一旦落子到疾病一列就与病例比对→比对的方法只能是逐条比对，耗时多。→ 要求病例的正确性高，但数量少，准而精

    - [ ] 先完成逐条比对的函数

    - [ ] 

      

- [ ] 任务2：对矩阵进行优化，同一性质的只占一子，如果性别，男女有排他性，一方在一个疾病过程中只能在性别这个子上落子一次，如果判断无效时可以再落子，直到棋局结束。

  - [ ] 👉这条规则与术语矩阵高度对应，参考下图。在实际诊疗中，同一列的落子可能有2种情况：
    1. 只能落一子，如“年龄性别”
    2. 可以落多子，但存在互斥情况（不是全部），如“预后极差”和“预后较好”是互斥的，但“有糖尿病基础”和“进食大量糖类食物”不是互斥的。
  - [ ] 但是，目前生成的一条病例中，每个属性只有一个值，所以先按每一列都只能取单值来落子
  - [ ] ❓ 同一列一个颜色的落子只有1颗，还是总共只能有一颗落子？ 👉应该是同色的只有一颗

  ![](images\0222术语矩阵.PNG)

  

- [ ] 任务3：需要对病例进行提取，一个病例是一条判断依据

  - [ ] 👉现在没有对word格式的病例做提取的工具或代码，暂时使用随机生成的excel格式病例进行比对，样式如下图：

  ![](images\cases.PNG)

  